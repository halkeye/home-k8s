apiVersion: v1
data:
  admin.enabled: "false"
  dex.config: |
    connectors:
      # OIDC
      - type: oidc
        id: Auth
        name: Auth
        config:
          issuer: https://auth.g4v.dev/application/o/argocd/
          clientID: zP5xeL7aYlacy7HSN9c7q63k964G47nz0cPEN3mW
          clientSecret: $oidc.authentik.clientSecret
          allowedAudiences:
            - zP5xeL7aYlacy7HSN9c7q63k964G47nz0cPEN3mW
            - argo-cd-cli
          insecureEnableGroups: true
          scopes:
            - openid
            - profile
            - email
            - groups
  helm.valuesFileSchemes: secrets+gpg-import, secrets+gpg-import-kubernetes, secrets+age-import,
    secrets+age-import-kubernetes, secrets,secrets+literal, https
  kustomize.buildOptions: --enable-alpha-plugins --enable-exec
  url: https://argocd.home.g4v.dev
kind: ConfigMap
metadata:
    labels:
        app.kubernetes.io/name: argocd-cm
        app.kubernetes.io/part-of: argocd
    name: argocd-cm
    namespace: argocd
