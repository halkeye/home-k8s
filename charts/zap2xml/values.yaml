app-template:
  controllers:
    main:
      type: cronjob
      revisionHistoryLimit: 1
      annotations:
        reloader.stakater.com/auto: 'true'
      cronjob:
        schedule: '0 */12 * * *'
        ttlSecondsAfterFinished: 86400
        successfulJobsHistory: 3
        failedJobsHistory: 2
      containers:
        zap2xml:
          image:
            repository: ghcr.io/halkeye/zap2xml
            tag: d463cfd27bba9921b6c8d3e4fa4cea5d40be7b39
          env:
            TZ: America/Vancouver
            OPT_ARGS: '-I -D -F -a -c /data/cache'
          envFrom:
            - secretRef:
                name: '{{.Release.Name}}-secret'
  persistence:
    data:
      enabled: true
      type: nfs
      server: 172.16.10.10
      path: '/volume1/Apps/zap2xml'
