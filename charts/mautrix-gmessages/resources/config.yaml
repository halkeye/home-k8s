# Network-specific config options
network:
    displayname_template: "{{or .FullName .PhoneNumber}} (GMessage)"

bridge:
    permissions:
      "*": relay
      "g4v.dev": user
      "@halkeye:g4v.dev": admin

# Config for the bridge's database.
database:
    type: postgres
    uri: "$MAUTRIX_DB_URI"

# Homeserver details.
homeserver:
    address: "http://synapse.matrix.svc.cluster.local.:8010"
    domain: g4v.dev
    # Does the homeserver support https://github.com/matrix-org/matrix-spec-proposals/pull/2246?
    async_media: true

# Application service host/registration related details.
# Changing these values requires regeneration of the registration (except when noted otherwise)
appservice:
    address: "http://mautrix-gmessages.matrix.svc.cluster.local.:29319"
    hostname: 0.0.0.0
    port: 29336
    # Authentication tokens for AS <-> HS communication. Autogenerated; do not modify.
    as_token: "$AS_TOKEN"
    hs_token: "$HS_TOKEN"

# Settings for provisioning API
provisioning:
    shared_secret: "$PROVISIONING_SHARED_SECRET"

# Settings for enabling double puppeting
double_puppet:
    secrets:

encryption:
    allow: true
    default: false
    pickle_key: "$ENCRYPTION_PICKLE_KEY"

# Logging config. See https://github.com/tulir/zeroconfig for details.
logging:
    min_level: debug
    writers:
        - type: stdout
          format: pretty-colored
        - type: file
          format: json
          filename: ./logs/bridge.log
          max_size: 100
          max_backups: 10
          compress: false
