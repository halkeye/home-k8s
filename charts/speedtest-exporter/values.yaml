fullnameOverride: speedtest-exporter
app-template:
  fullnameOverride: speedtest-exporter
  controllers:
    main:
      strategy: RollingUpdate
      containers:
        main:
          image:
            repository: ghcr.io/miguelndecarvalho/speedtest-exporter
            tag: v3.5.4
          env:
            TZ: America/Vancouver
          securityContext:
            allowPrivilegeEscalation: false
            readOnlyRootFilesystem: true
            capabilities:
              drop: ["ALL"]
          resources:
            requests:
              cpu: 15m
              memory: 50Mi
            limits:
              memory: 100Mi
  service:
    main:
      ports:
        http:
          port: 9798
  serviceMonitor:
    main:
      enabled: true
      endpoints:
        - port: http
          scheme: http
          path: /metrics
          interval: 60m
          scrapeTimeout: 1m
